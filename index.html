<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>VR Quiz</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene background="color: #ECECEC">
      <a-assets>
        <img id="panorama" src="https://example.com/panorama.jpg" crossorigin="anonymous" />
      </a-assets>

      <!-- Esfera Panorâmica -->
      <a-sky src="#panorama" rotation="0 -130 0"></a-sky>

      <!-- Pergunta -->
      <a-text value="Qual é a capital da França?" position="-1 2 -3" width="6" color="black"></a-text>

      <!-- Opções de Resposta -->
      <a-entity id="options" position="-1 1.5 -3">
        <a-box id="option1" class="clickable" position="0 0.3 0" width="1.5" height="0.5" depth="0.1" color="#CCC"
          text="value: Berlim; color: black; align: center"
          event-set__mouseenter="_event: mouseenter; color: #AAA"
          event-set__mouseleave="_event: mouseleave; color: #CCC"
          event-set__click="_event: click; color: #F00"
          onclick="checkAnswer(this, false)">
        </a-box>

        <a-box id="option2" class="clickable" position="0 -0.3 0" width="1.5" height="0.5" depth="0.1" color="#CCC"
          text="value: Paris; color: black; align: center"
          event-set__mouseenter="_event: mouseenter; color: #AAA"
          event-set__mouseleave="_event: mouseleave; color: #CCC"
          event-set__click="_event: click; color: #0F0"
          onclick="checkAnswer(this, true)">
        </a-box>

        <a-box id="option3" class="clickable" position="0 -0.9 0" width="1.5" height="0.5" depth="0.1" color="#CCC"
          text="value: Madri; color: black; align: center"
          event-set__mouseenter="_event: mouseenter; color: #AAA"
          event-set__mouseleave="_event: mouseleave; color: #CCC"
          event-set__click="_event: click; color: #F00"
          onclick="checkAnswer(this, false)">
        </a-box>

        <a-box id="option4" class="clickable" position="0 -1.5 0" width="1.5" height="0.5" depth="0.1" color="#CCC"
          text="value: Roma; color: black; align: center"
          event-set__mouseenter="_event: mouseenter; color: #AAA"
          event-set__mouseleave="_event: mouseleave; color: #CCC"
          event-set__click="_event: click; color: #F00"
          onclick="checkAnswer(this, false)">
        </a-box>
      </a-entity>

      <!-- Feedback de Resposta -->
      <a-text id="feedback" value="" position="-1 1 -3" width="6" color="black"></a-text>

      <script>
        function checkAnswer(element, isCorrect) {
          // Limpar feedback visual das opções
          document.querySelectorAll('.clickable').forEach((opt) => {
            opt.setAttribute('color', '#CCC');
          });

          // Mudar a cor da opção selecionada
          element.setAttribute('color', isCorrect ? '#0F0' : '#F00');

          // Mostrar feedback ao usuário
          const feedback = document.getElementById('feedback');
          feedback.setAttribute('value', isCorrect ? 'Correto!' : 'Errado!');

          // Adicionar um pequeno delay para realçar a seleção antes de continuar (opcional)
          setTimeout(() => {
            feedback.setAttribute('value', '');
          }, 2000);
        }
      </script>
    </a-scene>
  </body>
</html>
