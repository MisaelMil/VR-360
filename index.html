<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>VR Quiz App</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Carregar a imagem panorâmica -->
      <a-sky src="panorama.jpg" rotation="0 -130 0"></a-sky>

      <!-- Pergunta -->
      <a-text id="pergunta" 
              value="Qual é a capital da França?" 
              position="0 2 -3" 
              width="4"
              color="white">
      </a-text>

      <!-- Opções de Resposta -->
      <a-text value="A) Berlim" 
              position="-1.5 1.5 -3" 
              width="4" 
              color="white"
              class="option"
              id="opcaoA">
      </a-text>

      <a-text value="B) Madrid" 
              position="1.5 1.5 -3" 
              width="4" 
              color="white"
              class="option"
              id="opcaoB">
      </a-text>

      <a-text value="C) Paris" 
              position="-1.5 1 -3" 
              width="4" 
              color="white"
              class="option"
              id="opcaoC">
      </a-text>

      <a-text value="D) Roma" 
              position="1.5 1 -3" 
              width="4" 
              color="white"
              class="option"
              id="opcaoD">
      </a-text>

      <!-- Cursor para seleção -->
      <a-entity camera look-controls>
        <a-cursor 
          color="yellow"
          fuse="true" 
          fuse-timeout="1000">
        </a-cursor>
      </a-entity>
    </a-scene>

    <script>
      // Array de perguntas e respostas
      const perguntas = [
        {
          pergunta: "Caratateua fica em que Estado?",
          opcoes: ["Manaus", "Maranhão", "Para", "Roraima"],
          correta: 2
        },
        {
          pergunta: "Quantos anos duram, em média, as placas solares mantendo boa eficiência?",
          opcoes: ["10 anos", "15 anos", "20 anos", "25 anos"],
          correta: 2
        },
        {
          pergunta: "Como funciona a energia termosolar ou heliotérmica?",
          opcoes: [
            "Transforma o calor do sol em eletricidade diretamente",
            "Usa a luz solar para gerar energia química",
            "Transforma a luz do sol em calor e, posteriormente, em energia elétrica",
            "Gera energia a partir de espelhos"
          ],
          correta: 2
        },
        {
          pergunta: "Como funciona a energia maremotriz?",
          opcoes: [
            "É gerada a partir do movimento das ondas",
            "É gerada a partir da transformação do movimento das marés e das correntes do mar em eletricidade",
            "Transforma o sal da água do mar em energia",
            "Gera eletricidade a partir da pressão submarina"
          ],
          correta: 1
        },
        {
          pergunta: "Quais são os estados brasileiros que mais produzem energia eólica?",
          opcoes: [
            "Minas Gerais e São Paulo",
            "Pará e Maranhão",
            "Pernambuco e Alagoas",
            "Rio Grande do Norte e Bahia"
          ],
          correta: 3
        }
      ];

      let perguntaAtual = 0;

      // Função para atualizar a pergunta e opções
      function atualizarPergunta() {
        const pergunta = perguntas[perguntaAtual];
        document.getElementById("pergunta").setAttribute("value", pergunta.pergunta);
        document.getElementById("opcaoA").setAttribute("value", `A) ${pergunta.opcoes[0]}`);
        document.getElementById("opcaoB").setAttribute("value", `B) ${pergunta.opcoes[1]}`);
        document.getElementById("opcaoC").setAttribute("value", `C) ${pergunta.opcoes[2]}`);
        document.getElementById("opcaoD").setAttribute("value", `D) ${pergunta.opcoes[3]}`);
      }

      // Função para verificar a resposta
      function verificarResposta(opcaoIndex) {
        const respostaCorreta = perguntas[perguntaAtual].correta;
        if (opcaoIndex === respostaCorreta) {
          alert("Resposta Correta!");
          perguntaAtual++;
          if (perguntaAtual < perguntas.length) {
            atualizarPergunta();
          } else {
            alert("Você completou todas as perguntas!");
          }
        } else {
          alert("Resposta Errada!");
        }
      }

      // Adiciona eventos de clique nas opções
      document.querySelector('#opcaoA').addEventListener('click', function () {
        verificarResposta(0);
      });
      
      document.querySelector('#opcaoB').addEventListener('click', function () {
        verificarResposta(1);
      });

      document.querySelector('#opcaoC').addEventListener('click', function () {
        verificarResposta(2);
      });

      document.querySelector('#opcaoD').addEventListener('click', function () {
        verificarResposta(3);
      });

      // Inicializa a primeira pergunta
      atualizarPergunta();
    </script>
  </body>
</html>
